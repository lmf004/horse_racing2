{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //    default: null,      // The default value will be used only when the component attaching\r\n        //                           to a node for the first time\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n        distance: 200,\r\n        time: 20,\r\n        winner: 3,\r\n        time_past: 0,\r\n        horsePos: [],\r\n        winner_spdup: false,\r\n        race_finish: false,\r\n        horse1: { default: null,  type: cc.Node },\r\n        horse2: { default: null,  type: cc.Node },\r\n        horse3: { default: null,  type: cc.Node },\r\n        horse4: { default: null,  type: cc.Node },\r\n        horse5: { default: null,  type: cc.Node },\r\n        horse6: { default: null,  type: cc.Node },\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this.winner = Global.winner;\r\n        for(var i=0; i<6; ++i) {\r\n            this.horsePos.push(0);\r\n        }\r\n        this.winner_spdup = false;\r\n        this.race_finish = false;\r\n    },\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    update: function (dt) {\r\n        if(this.race_finish) \r\n            return;\r\n            \r\n        var hs = [this.horse1, this.horse2, this.horse3, this.horse4, this.horse5, this.horse6,];\r\n        for(var j=0; j<6; ++j) {\r\n            hs[j].x +=this.horsePos[j]; \r\n        }\r\n        var distance = this.distance;\r\n        var time = this.time;\r\n        var winner = this.winner;\r\n        var v = distance/time;\r\n        var vrange = v*0.5;\r\n        var vs = [];\r\n        for(var i=0; i<6; ++i) {\r\n            var dv;\r\n            if(i == winner && this.winner_spdup) {\r\n                dv = v + vrange;\r\n            } else {\r\n                var r = Math.random();\r\n                dv = v+(r-0.5)*2*vrange;\r\n            }\r\n            var dis = dv*dt;\r\n            this.horsePos[i] += dis;\r\n        }\r\n        this.time_past += dt;\r\n        if(!this.winner_spdup && this.time_past > time*0.8)\r\n            this.winner_spdup = true;\r\n        if(this.horsePos[winner] >= distance) \r\n            this.race_finish = true;\r\n        \r\n    },\r\n});\r\n"
  ]
}